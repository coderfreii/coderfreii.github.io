##### 前言

​		流媒体服务器，一开始接触这个词的时候感觉是很高大上的词汇，这个印象出于几个原因，这东西不那么常见、个人当时是代码菜鸟、以及当时的技术主管强调这个有多难，以至于一直搞不清楚所谓的流和crud时http的get、post这些玩意儿有啥区别。

​		这个问题在后来离职到一家公司后，随着个人技术增长，对相关技术开始有了进一步的学习和了解，其中的各种疑问也基本得到了各种解答。

​		首先回答作为新手javaer可能最常有的和最根本的一些问题

###### 		什么是流？流媒体服务器和http服务器有什么区别？

​		第一个问题，所有通过网络传播的数据都可以叫做流，统称`数据流`，只因为音视频往往比较大用流来形容传输过程更形象一点，而http服务器数据流有专有的名词，`报文`，当然http传文件时也常常会叫其为`文件流`，结论显而易见。

​		第二个问题，二者的区别基本在于传输数据时，传输协议往往不同，传输的内容往往也不同，（当然也可以相同）

​		流媒体服务器往往使用 rtmp hls websocket 等协议，传输载体内容为音视频数据

​		http服务器往往使用 http https 协议传递报文 和 文件流（包含音视频数据）

​        http服务器亦然可以实现流媒体服务器例如 http-flv  `只不过这与平时接触最多的tomcat 结合 springmvc 实现的http协议稍有不同`



###### 流媒体服务器的主要核心的组成为

+ 传输协议
+ 视频封包
+ 音视频编解码

 其中音视频封包和音视频编解码不是必须的。一个最基本的流媒体服务器至少要支持一种传输协议，这样就可以实现基本的推流和拉流播放的功能。



###### 可扩展的功能

根据以上这三样核心功能流媒体服务器还可以进行扩展

+ 传输协议的转换，例如 rtmp 和 websocket 互相转换
+ 封包转换 例如 flv和MP4互相转换
+ 视频编解码  h264 和 h265互相转换 、 添加滤镜、水印、特效等



比较常用的就是前两条，能覆盖大部分场景，第三条扩展因为cpu计算量过大会致使播放延迟过高，所以一般而言比较不常用。



对于不是音视频方向的开发者来说，第三条可以忽略，工作中不会遇到，第一条、第二条根据情况需要去学些了解。



这里对细节性的内容暂时不展开具体的介绍、因为篇幅收不住、这里只讲讲学习的具体切入点。首先这些`都是协议约定`，例如 

+ 第一条就是 传输协议 类比http协议

+ 第二条就是 文件格式，也是一种`协议` ，无非要最终大概率会写入硬盘，仅此而已。

+ 第三条其实也属于文件格式，同样也是一种`协议`，但是读取方式更复杂。

而对于协议这样的问题看文档是最好的途径，一般是不会详尽介绍的，因为内容量基本和出一本书相当了。假如适合做开发这一行，有基本的悟性和能力，根据上面提到的类比，也应该就会已经有了相对清晰的思路去了解这些知识了。

​	

贴一个我最初学习时看的一个项目，该项目研究明白至少对于流媒体服务器的传输协议有了基本的认识

该项目的第二、第三条的功能是借由第三方库`ffmpeg`实现的

https://gitee.com/52jian/EasyMedia.git